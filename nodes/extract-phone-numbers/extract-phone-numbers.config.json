{
  "display_name": "Extract Phone Numbers",
  "description": "Extract phone numbers from text in various formats (US, international, etc.)",
  "category": "text",
  "is_macro": true,
  "is_plugin": true,
  "macro_flow": {
    "nodes": [
      {
        "id": "input_text",
        "type": "input-data",
        "settings": {
          "key": "text"
        }
      },
      {
        "id": "match",
        "type": "string-match",
        "settings": {
          "case_sensitive": false,
          "global": true
        }
      },
      {
        "id": "phone_pattern",
        "type": "string",
        "settings": {
          "value": "(\\+?1[-.\\(\\s]?)?\\(?([0-9]{3})\\)?[-.\\(\\s]?([0-9]{3})[-.\\(\\s]?([0-9]{4})|\\+?[1-9]\\d{1,14}"
        }
      },
      {
        "id": "filter_empty",
        "type": "array-filter",
        "settings": {
          "condition": "not_equals",
          "value": ""
        }
      },
      {
        "id": "output_phone_numbers",
        "type": "output-data",
        "settings": {
          "key": "phone_numbers"
        }
      }
    ],
    "links": [
      {
        "from": { "node_id": "input_text", "port_name": "value" },
        "to": { "node_id": "match", "port_name": "text" }
      },
      {
        "from": { "node_id": "phone_pattern", "port_name": "value" },
        "to": { "node_id": "match", "port_name": "pattern" }
      },
      {
        "from": { "node_id": "match", "port_name": "matches" },
        "to": { "node_id": "filter_empty", "port_name": "array" }
      },
      {
        "from": { "node_id": "filter_empty", "port_name": "array" },
        "to": { "node_id": "output_phone_numbers", "port_name": "value" }
      }
    ]
  },
  "inputs": [
    {
      "name": "text",
      "display_name": "Text",
      "type": "string",
      "description": "The text to extract phone numbers from",
      "required": true
    }
  ],
  "outputs": [
    {
      "name": "phone_numbers",
      "display_name": "Phone Numbers",
      "type": "array of strings",
      "description": "Array of extracted phone numbers"
    }
  ],
  "settings": []
}
