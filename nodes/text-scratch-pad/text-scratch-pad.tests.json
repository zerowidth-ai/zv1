{
  "test_cases": [
    {
      "name": "First text addition",
      "inputs": {
        "text": "Hello world"
      },
      "settings": {
        "initial_content": "",
        "default_delimiter": "\n"
      },
      "expected": {
        "content": "Hello world",
        "length": 11
      }
    },
    {
      "name": "Second text addition with default delimiter",
      "inputs": {
        "text": "This is line 2"
      },
      "settings": {
        "accumulated_content": "Hello world",
        "default_delimiter": "\n"
      },
      "expected": {
        "content": "Hello world\nThis is line 2",
        "length": 26
      }
    },
    {
      "name": "Custom delimiter",
      "inputs": {
        "text": "Another item",
        "delimiter": " | "
      },
      "settings": {
        "accumulated_content": "Item 1",
        "default_delimiter": "\n"
      },
      "expected": {
        "content": "Item 1 | Another item",
        "length": 22
      }
    },
    {
      "name": "Clear scratch pad",
      "inputs": {
        "text": "New content",
        "clear": true
      },
      "settings": {
        "accumulated_content": "Old content that should be cleared",
        "default_delimiter": "\n"
      },
      "expected": {
        "content": "New content",
        "length": 11
      }
    },
    {
      "name": "Empty text input",
      "inputs": {
        "text": ""
      },
      "settings": {
        "accumulated_content": "Existing content",
        "default_delimiter": "\n"
      },
      "expected": {
        "content": "Existing content",
        "length": 17
      }
    },
    {
      "name": "Null text input",
      "inputs": {
        "text": null
      },
      "settings": {
        "accumulated_content": "Existing content",
        "default_delimiter": "\n"
      },
      "expected": {
        "content": "Existing content",
        "length": 17
      }
    },
    {
      "name": "Multiple additions with comma delimiter",
      "inputs": {
        "text": "Third item",
        "delimiter": ", "
      },
      "settings": {
        "accumulated_content": "First item, Second item",
        "default_delimiter": "\n"
      },
      "expected": {
        "content": "First item, Second item, Third item",
        "length": 35
      }
    },
    {
      "name": "Clear without new text",
      "inputs": {
        "clear": true
      },
      "settings": {
        "accumulated_content": "Content to be cleared",
        "default_delimiter": "\n"
      },
      "expected": {
        "content": "",
        "length": 0
      }
    },
    {
      "name": "Initial content from settings",
      "inputs": {
        "text": "Additional text"
      },
      "settings": {
        "initial_content": "Starting text",
        "default_delimiter": " - "
      },
      "expected": {
        "content": "Starting text - Additional text",
        "length": 30
      }
    }
  ]
}
